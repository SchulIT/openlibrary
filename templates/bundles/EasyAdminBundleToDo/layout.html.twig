{% extends '@!EasyAdmin/layout.html.twig' %}

{% block head_stylesheets %}
    <link rel="stylesheet" href="{{ asset('build/app.css') }}">
{% endblock %}

{% block head_javascript %}{% endblock %}

{% block body_javascript %}
    <script src="{{ asset('build/app.js') }}"></script>
{% endblock %}

{% block javascript_page_layout %}{% endblock %}

{% block wrapper_wrapper %}
    <div class="page">
        {# HEADER #}
        <header class="navbar navbar-expand-md d-print-none">
            <div class="container-xl">
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbar-menu"
                    aria-controls="navbar-menu"
                    aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
                    {% block header_logo %}
                        <a class="logo" title="{{ ea.dashboardTitle|striptags }}" href="{{ path(ea.dashboardRouteName) }}">
                            <span class="logo-custom">{{ ea.dashboardTitle|raw }}</span>
                        </a>
                    {% endblock header_logo %}
                </div>

                <div class="navbar-nav flex-row order-md-last">
                    <div class="d-none d-md-flex">
                        <div class="nav-item">
                            <a href="?theme=dark" class="nav-link px-0 hide-theme-dark" title="Enable dark mode" data-bs-toggle="tooltip" data-bs-placement="bottom">
                                <!-- Download SVG icon from http://tabler.io/icons/icon/moon -->
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon icon-1"
                                >
                                    <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
                                </svg>
                            </a>
                            <a href="?theme=light" class="nav-link px-0 hide-theme-light" title="Enable light mode" data-bs-toggle="tooltip" data-bs-placement="bottom">
                                <!-- Download SVG icon from http://tabler.io/icons/icon/sun -->
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon icon-1"
                                >
                                    <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
                                    <path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" />
                                </svg>
                            </a>
                        </div>
                </div>

                    <div class="nav-item">
                        <div class="d-none d-md-flex lh-1 p-0 px-2">
                            <span class="avatar avatar-sm">
                                <i class="fa fa-user"></i>
                            </span>

                            {% if app.user is not null %}
                                <div class="d-none d-xl-block ps-2">
                                    <div>{{ app.user.lastname }}, {{ app.user.firstname }}</div>
                                    <div class="mt-1 small text-secondary">{{ app.user.userIdentifier }}</div>
                                </div>
                            {% else %}
                                <div class="d-none d-xl-block ps-2">
                                    <div>{{ 'anonymous'|trans }}</div>
                                    <div class="mt-1 small text-secondary">anonymous</div>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <header class="navbar-expand-md">
            <div id="navbar-menu" class="collapse navbar-collapse">
                <div class="navbar">
                    <div class="container-xl">
                        <div class="row flex-column flex-md-row flex-fill align-items-center">
                            <div class="col">
                                {% block main_menu_wrapper %}
                                    {{ include(ea.templatePath('main_menu')) }}
                                {% endblock main_menu_wrapper %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        {# ACTUAL PAGE CONTENT #}
        <div class="page-wrapper">
            {% block main_content_wrapper %}

            {% endblock %}
        </div>
    </div>
{% endblock %}
